import{r as l,j as e,H as u,L as r,a as g}from"./app-CX5FMW1s.js";import{A as p}from"./AdminLayout-Bv6JVXqp.js";function b({employees:s,departments:c}){const[a,x]=l.useState(""),[i,o]=l.useState(""),d=s.data.filter(t=>{const n=t.name.toLowerCase().includes(a.toLowerCase())||t.phone.toLowerCase().includes(a.toLowerCase()),h=i===""||t.department?.id.toString()===i;return n&&h}),m=t=>{confirm(`هل أنت متأكد من حذف الموظف "${t.name}"؟`)&&g.delete(route("admin.employees.destroy",t.id))};return e.jsxs(p,{title:"إدارة الموظفين",children:[e.jsx(u,{title:"إدارة الموظفين"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"إدارة الموظفين"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["إجمالي الموظفين: ",s.total]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(r,{href:route("admin.departments.index"),className:"inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white text-sm font-medium rounded-lg transition-colors duration-200",children:[e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"إدارة الأقسام"]}),e.jsxs(r,{href:route("admin.employees.create"),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors duration-200",children:[e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"إضافة موظف جديد"]})]})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"البحث بالاسم أو رقم الهاتف"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"ابحث عن موظف...",className:"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:a,onChange:t=>x(t.target.value)}),e.jsx("svg",{className:"absolute right-3 top-2.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"تصفية حسب القسم"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:i,onChange:t=>o(t.target.value),children:[e.jsx("option",{value:"",children:"جميع الأقسام"}),c.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الموظف"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"رقم الهاتف"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"القسم"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الحالة"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"تاريخ الإضافة"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الإجراءات"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-gray-500",children:"لا توجد موظفين"})}):d.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:t.name.charAt(0)}),e.jsxs("div",{className:"mr-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name}),t.email&&e.jsx("div",{className:"text-sm text-gray-500",children:t.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.phone}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.department?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.department.name}):e.jsx("span",{className:"text-sm text-gray-500",children:"غير محدد"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.is_active?"نشط":"غير نشط"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(t.created_at).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[e.jsx(r,{href:route("admin.employees.show",t.id),className:"text-blue-600 hover:text-blue-900 transition-colors duration-200",children:"عرض"}),e.jsx(r,{href:route("admin.employees.edit",t.id),className:"text-indigo-600 hover:text-indigo-900 transition-colors duration-200",children:"تعديل"}),e.jsx("button",{onClick:()=>m(t),className:"text-red-600 hover:text-red-900 transition-colors duration-200",children:"حذف"})]})})]},t.id))})]})}),s.links&&e.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-2 space-x-reverse",children:e.jsxs("span",{className:"text-sm text-gray-700",children:["عرض ",s.from," إلى ",s.to," من أصل ",s.total," موظف"]})}),e.jsx("div",{className:"flex items-center space-x-1 space-x-reverse",children:s.links.map((t,n)=>e.jsx(r,{href:t.url||"#",className:`px-3 py-2 text-sm rounded-md transition-colors duration-200 ${t.active?"bg-blue-600 text-white":t.url?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},n))})]})})]})]})]})}export{b as default};
