import{r as d,j as e,H as c,L as r,a as x}from"./app-CX5FMW1s.js";import{A as m}from"./AdminLayout-Bv6JVXqp.js";function g({departments:t}){const[a,o]=d.useState(""),i=t.data.filter(s=>s.name.toLowerCase().includes(a.toLowerCase())||s.description?.toLowerCase().includes(a.toLowerCase())),l=s=>{confirm(`هل أنت متأكد من حذف القسم "${s.name}"؟`)&&x.delete(route("admin.departments.destroy",s.id))};return e.jsxs(m,{title:"إدارة الأقسام",children:[e.jsx(c,{title:"إدارة الأقسام"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"إدارة الأقسام"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["إجمالي الأقسام: ",t.total]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs(r,{href:route("admin.employees.index"),className:"inline-flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white text-sm font-medium rounded-lg transition-colors duration-200",children:[e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"إدارة الموظفين"]}),e.jsxs(r,{href:route("admin.departments.create"),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors duration-200",children:[e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"إضافة قسم جديد"]})]})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:e.jsxs("div",{className:"max-w-md",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"البحث في الأقسام"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"ابحث عن قسم...",className:"w-full pr-10 pl-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:a,onChange:s=>o(s.target.value)}),e.jsx("svg",{className:"absolute right-3 top-2.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.length===0?e.jsx("div",{className:"col-span-full",children:e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"لا توجد أقسام"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"ابدأ بإضافة قسم جديد"})]})}):i.map(s=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})})}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.is_active?"نشط":"غير نشط"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s.name}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:s.description})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),s.employees_count," موظف"]}),e.jsx("span",{children:new Date(s.created_at).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[e.jsx(r,{href:route("admin.departments.show",s.id),className:"text-blue-600 hover:text-blue-900 text-sm font-medium transition-colors duration-200",children:"عرض"}),e.jsx(r,{href:route("admin.departments.edit",s.id),className:"text-indigo-600 hover:text-indigo-900 text-sm font-medium transition-colors duration-200",children:"تعديل"})]}),e.jsx("button",{onClick:()=>l(s),className:"text-red-600 hover:text-red-900 text-sm font-medium transition-colors duration-200",disabled:s.employees_count>0,title:s.employees_count>0?"لا يمكن حذف القسم لوجود موظفين به":"حذف القسم",children:"حذف"})]})]},s.id))}),t.links&&e.jsx("div",{className:"bg-white px-4 py-3 border border-gray-200 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-2 space-x-reverse",children:e.jsxs("span",{className:"text-sm text-gray-700",children:["عرض ",t.from," إلى ",t.to," من أصل ",t.total," قسم"]})}),e.jsx("div",{className:"flex items-center space-x-1 space-x-reverse",children:t.links.map((s,n)=>e.jsx(r,{href:s.url||"#",className:`px-3 py-2 text-sm rounded-md transition-colors duration-200 ${s.active?"bg-blue-600 text-white":s.url?"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},n))})]})})]})]})}export{g as default};
